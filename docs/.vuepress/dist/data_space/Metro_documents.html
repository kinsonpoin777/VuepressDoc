<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.    地铁系统 | OPEN API Doc</title>
    <meta name="description" content="接口说明文档">
    <link rel="icon" href="/bitbug_favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.584498ef.css" as="style"><link rel="preload" href="/assets/js/app.db21f27a.js" as="script"><link rel="preload" href="/assets/js/2.82b08f5a.js" as="script"><link rel="preload" href="/assets/js/14.a358029f.js" as="script"><link rel="prefetch" href="/assets/js/10.22aa21c7.js"><link rel="prefetch" href="/assets/js/11.2b479cd9.js"><link rel="prefetch" href="/assets/js/12.d0a30bd4.js"><link rel="prefetch" href="/assets/js/13.e1c32ab9.js"><link rel="prefetch" href="/assets/js/15.b95dcb64.js"><link rel="prefetch" href="/assets/js/3.69a9e6aa.js"><link rel="prefetch" href="/assets/js/4.2a9a9e3e.js"><link rel="prefetch" href="/assets/js/5.ddaaa47b.js"><link rel="prefetch" href="/assets/js/6.898b7d41.js"><link rel="prefetch" href="/assets/js/7.04069a34.js"><link rel="prefetch" href="/assets/js/8.13be9294.js"><link rel="prefetch" href="/assets/js/9.4b85b1ac.js">
    <link rel="stylesheet" href="/assets/css/0.styles.584498ef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">OPEN API Doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/Guide.html" class="sidebar-link">接入指南</a></li><li><a href="/IOT.html" class="sidebar-link">IOT通讯协议</a></li><li><a href="/Application_of_API.html" class="sidebar-link">应用API</a></li><li><a href="/Video_service.html" class="sidebar-link">视频服务</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数字空间</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/data_space/Basic_document.html" class="sidebar-link">数字空间基础能力接口文档</a></li><li><a href="/data_space/Metro_documents.html" class="active sidebar-link">业务场景接口文档--地铁场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-1-车站信息发布系统" class="sidebar-link">1.1.   车站信息发布系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-1-1-获取指定线路，车站，站台的站台全量信息" class="sidebar-link">1.1.1.  获取指定线路，车站，站台的站台全量信息</a></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-1-2-获取指定线路，车站，设备的电子导向全量信息" class="sidebar-link">1.1.2.  获取指定线路，车站，设备的电子导向全量信息</a></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-1-3-获取指定线路，车站，设备的广播系统全量信息" class="sidebar-link">1.1.3.  获取指定线路，车站，设备的广播系统全量信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-2-车站站台门系统" class="sidebar-link">1.2.   车站站台门系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-2-1车站站台门当前状态" class="sidebar-link">1.2.1车站站台门当前状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-3-车站进出控制" class="sidebar-link">1.3.   车站进出控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-3-1车站进出控制系统子设备当前状态" class="sidebar-link">1.3.1车站进出控制系统子设备当前状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-4-车站环境" class="sidebar-link">1.4.   车站环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-4-1车站环境当前状态" class="sidebar-link">1.4.1车站环境当前状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-5-车站扶梯系统" class="sidebar-link">1.5.   车站扶梯系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-5-1车站扶梯当前状态及各子设备状态" class="sidebar-link">1.5.1车站扶梯当前状态及各子设备状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-6-车站照明系统" class="sidebar-link">1.6.   车站照明系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_1-6-1车站照明设备当前状态" class="sidebar-link">1.6.1车站照明设备当前状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_2-1-告警接口" class="sidebar-link">2.1.   告警接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_2-1-1-获取告警列表" class="sidebar-link">2.1.1 获取告警列表</a></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_2-2-2处理告警" class="sidebar-link">2.2.2处理告警</a></li></ul></li><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_2-2-设备状态" class="sidebar-link">2.2.   设备状态</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data_space/Metro_documents.html#_2-2-1全量设备设备当前状态接口" class="sidebar-link">2.2.1全量设备设备当前状态接口</a></li></ul></li></ul></li><li><a href="/data_space/Data_guide.html" class="sidebar-link">数字空间数据上报及实时数据获取指南-建筑类</a></li></ul></section></li><li><a href="/Error_code.html" class="sidebar-link">错误码</a></li><li><a href="/appendix.html" class="sidebar-link">附录</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-地铁系统"><a href="#_1-地铁系统" aria-hidden="true" class="header-anchor">#</a> <strong>1.</strong> <strong>地铁系统</strong></h1> <h2 id="_1-1-车站信息发布系统"><a href="#_1-1-车站信息发布系统" aria-hidden="true" class="header-anchor">#</a> 1.1.   车站信息发布系统</h2> <h3 id="_1-1-1-获取指定线路，车站，站台的站台全量信息"><a href="#_1-1-1-获取指定线路，车站，站台的站台全量信息" aria-hidden="true" class="header-anchor">#</a> 1.1.1.  获取指定线路，车站，站台的站台全量信息</h3> <ul><li>功能描述 返回指定线路，车站或者站台的站台全量信息</li> <li>请求URL:<code>/space/datahub/metro/broadcasting/v1.0/current/getStationStatus</code></li> <li>请求方式：<code>GET</code></li> <li>请求参数</li></ul> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td><strong>lineId</strong></td> <td>string</td> <td>否</td> <td>无</td> <td>线路编号，若为空则返回全部线路</td></tr> <tr><td><strong>stationId</strong></td> <td>string</td> <td>否</td> <td>无</td> <td>站点编号，若为空返回全部站点</td></tr> <tr><td><strong>platformId</strong></td> <td>string</td> <td>否</td> <td>无</td> <td>站台编号，若为空则返回全部站台</td></tr></tbody></table> <ul><li>请求示例</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>/space/datahub/metro/broadcasting/v1.0/current/getStationStatus
?lineId=youngtram
&amp;stationId=11
&amp;platformId=1
&amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>返回参数</li></ul> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td>String</td> <td>&quot;youngtram&quot;(有轨电车),<br>&quot;03&quot;(3号线)，<br>&quot;apm&quot;(APM线)</td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>platformId</td> <td>站台编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>stationDescription</td> <td>站点描述</td> <td>String</td> <td></td></tr> <tr><td></td> <td>crowdingDescription</td> <td></td> <td>String</td> <td></td></tr> <tr><td></td> <td>environmentInfo</td> <td>环境信息</td> <td>Object</td> <td>&quot;weather&quot;: 天气,<br>&quot;temperature&quot;:   气温,<br>&quot;humidity&quot;: 湿度</td></tr> <tr><td></td> <td>operationPeriodInfo</td> <td>首末班车时间</td> <td>Object</td> <td>&quot;firstTrainTime&quot;: 首班车时间,<br>&quot;lastTrainTime&quot;:末班车时间</td></tr> <tr><td></td> <td>firstTrainInfo</td> <td>下一辆进站列车信息</td> <td></td> <td>&quot;trainID1&quot;: 车辆编号,<br>&quot;destination1&quot;:   目的地,<br>&quot;trainStatus1&quot;: 车辆状态,<br>&quot;trainNum1&quot;: 车次编号,<br>&quot;arriveDistance1&quot;:   到站距离,<br>&quot;arriveTime1&quot;: 到站时间,<br>&quot;btiaoting1&quot;:   是否跳停,<br>&quot;bzaike1&quot;: 是否载客,<br>&quot;bLast1&quot;: 是否为末班车</td></tr> <tr><td></td> <td>secondTrainInfo</td> <td>下两辆进站列车信息</td> <td>Object</td> <td>&quot;trainID2&quot;: 车辆编号,<br>&quot;destination2&quot;:   目的地,<br>&quot;trainStatus2&quot;: 车辆状态,<br>&quot;trainNum2&quot;: 车次编号,<br>&quot;arriveDistance2&quot;:   到站距离,<br>&quot;arriveTime2&quot;: 到站时间,<br>&quot;btiaoting2&quot;:是否跳停,<br>&quot;bzaike2&quot;: 是否载客,<br>&quot;bLast2&quot;: 是否为末班车</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>true 表示成功，false 表示出错</td></tr></tbody></table> <ul><li>返回示例</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  ​<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      ​<span class="token property">&quot;lineId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;youngtram&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;lineName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;有轨电车&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;stationId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;platformId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;eventTs&quot;</span><span class="token operator">:</span> <span class="token number">1563766576061</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;eventTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-07-22 03:36:16&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;stationDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;广州塔下行&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;crowdingDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;environmentInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ​<span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;temperature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;humidity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;stationSurInfo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>​
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;operationPeriodInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ​<span class="token property">&quot;firstTrainTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;lastTrainTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>​
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;firstTrainInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ​<span class="token property">&quot;trainID1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T02&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;destination1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;万胜围&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;trainStatus1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;trainNum1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;01100613&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;arriveDistance1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;180&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;arriveTime1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;36&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;btiaoting1&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;bzaike1&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;bLast1&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>​
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;secondTrainInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ​<span class="token property">&quot;trainID2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T04&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;trainNum2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;01100213&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;bzaike2&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;arriveDistance2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4750&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;arriveTime2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;950&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;destination2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;万胜围&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;trainStatus2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;btiaoting2&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;bLast2&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>​
      <span class="token punctuation">}</span>​
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="_1-1-2-获取指定线路，车站，设备的电子导向全量信息"><a href="#_1-1-2-获取指定线路，车站，设备的电子导向全量信息" aria-hidden="true" class="header-anchor">#</a> 1.1.2.  获取指定线路，车站，设备的电子导向全量信息</h3> <ul><li>功能描述 返回指定线路，车站或者设备的电子导向全量信息</li> <li>请求URL：<code>/space/datahub/metro/broadcasting/v1.0/current/getNavigationStatus</code></li> <li>请求方式：<code>GET</code></li> <li>请求参数</li></ul> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路电子导向设备</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点电子导向设备</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部类型电子导向设备</td></tr></tbody></table> <ul><li><p>请求示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/space/datahub/ metro/broadcasting/v1.0/current/getNavigationStatus
?stationId=3-09
&amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回参数</p></li></ul> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td></td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td></td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站点名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>deviceStatus</td> <td>设备状态</td> <td>Object</td> <td>{<br>  &quot;controller_status&quot;: //当前设备所属控制器状态{<br>    &quot;lcdCnt&quot;: &quot;2&quot;,//控制器下屏数<br>    &quot;devId&quot;: &quot;S001-001&quot;,//控制器id<br>    &quot;devStatus&quot;: &quot;0&quot;,//控制器状态<br>    &quot;curRunningMode&quot;: &quot;0&quot;//控制运行状态0普通1紧急模式<br>  },<br>  &quot;lcd_status&quot;: {<br>  &quot;assetNumber&quot;: &quot;&quot;,//资产编号&quot;<br>  &quot;sn&quot;: &quot;&quot;,//子设备sn<br>  &quot;subDevStatus&quot;: &quot;0&quot;,//电视机状态0正常1故障<br>  &quot;subDevId&quot;: &quot;S001-001-01&quot;,//电视机id<br>  &quot;subDevRuningInfo&quot;: &quot;0&quot;,//控制运行状态0普通1紧急模式<br>    &quot;subDevName&quot;: &quot;A端闸机1号屏&quot;//电视机名字<br>  }<br>}</td></tr> <tr><td></td> <td>content</td> <td>内容字段</td> <td>Object</td> <td>暂无，待后续系统接入后补充</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table> <ul><li>返回示例</li></ul> <h3 id="_1-1-3-获取指定线路，车站，设备的广播系统全量信息"><a href="#_1-1-3-获取指定线路，车站，设备的广播系统全量信息" aria-hidden="true" class="header-anchor">#</a> 1.1.3.  获取指定线路，车站，设备的广播系统全量信息</h3> <ul><li><p>功能描述 返回指定线路，车站或者设备的广播系统全量信息</p></li> <li><p>请求URL:<code>/space/datahub/metro/broadcasting/v1.0/current/getStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路广播系统设备</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点广播系统设备</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部广播系统设备</td></tr> <tr><td>deviceType</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部类型广播系统设备</td></tr></tbody></table></li> <li><p>请求示例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /space/datahub/metro/broadcasting/v1.0/current/getStatus
  ?stationId=3-09
  &amp;deviceType=broadcast
  &amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><p>返回参数</p> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>deviceType</td> <td>设备类型</td> <td>String</td> <td>navigation：电子导向设备，broadcast：站内广播设备</td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td></td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td></td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站点名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>deviceStatus<br>(broadcast)</td> <td>设备状态(站内广播)</td> <td>Object</td> <td>devId:&quot;S001-001&quot;,//设备唯一标识<br>    devStatus:,0,//设备状态<br>   curRunningMode:,0,// 0，当前是待机的状态，不播放广播；1，客控模式<br>    curPlayingTimes:,32//当前播放的模式下的播放时长<br>   curPlayingDurartion:,3//当前播放的模式下的播放时长<br>   cmdRunningMode:,1//命令站厅广播运行模式<br>    playDuration:,10 //播放时长, 以秒为单位；最长播放时间1800秒</td></tr> <tr><td></td> <td>content</td> <td>内容字段</td> <td>Object</td> <td>暂无，待后续系统接入后补充</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table></li> <li><p>返回示例
{}</p></li></ul> <h2 id="_1-2-车站站台门系统"><a href="#_1-2-车站站台门系统" aria-hidden="true" class="header-anchor">#</a> 1.2.   车站站台门系统</h2> <h3 id="_1-2-1车站站台门当前状态"><a href="#_1-2-1车站站台门当前状态" aria-hidden="true" class="header-anchor">#</a> 1.2.1车站站台门当前状态</h3> <ul><li><p>功能描述 返回指定车站，站台门的站台门状态</p></li> <li><p>请求URL:<code>/space/datahub/metro/platform-gate/v1.0/current/getPlatformGateStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点车门</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点全部车门</td></tr></tbody></table></li> <li><p>请求示例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /space/datahub/metro/platform-gate/v1.0/current/getPlatformGateStatus
  ?din=200000000000000074
  &amp;token=
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>返回参数</p> <table><thead><tr><th><div style="width:77px;">名称</div></th> <th><div style="width:85px;">元素</div></th> <th><div style="width:70px;">描述</div></th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站台名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>radarStatus</td> <td>防夹雷达信息</td> <td>Object</td> <td>&quot;mcRunningStatus&quot;:0, //设备房控制器信息, 正常/故障（0：正常，1：故障）<br>   &quot;fjmDispInfo&quot;:0, //端门显示器故障,正常/故障（0：正常，1：故障）<br>   &quot;runningTimes&quot;:6, //开关次数，整体的所有整侧所有站台门门作为一个<br>   &quot;forceResetEvent&quot;:0, //单侧报警复位事件,发生/不发生（0：不发生，1：发生）<br>   &quot;fjmMasterDev&quot;:0, //旁路，自动（0：自动，1：旁路）<br>   &quot;gateDirection&quot;:0, //上行，下行（0：上行，1：下行 )<br>  &quot;assetNumber&quot;:&quot;&quot;//资产编号<br>   &quot;sn&quot;:&quot;&quot;//子设备 sn<br>   &quot;pid&quot;:&quot;&quot;//子设备   pid<br>   &quot;subdin&quot;:&quot;&quot;//子设备 din<br>   &quot;devId&quot;:1, //具体一个门的雷达设备id（integer整型：1~24）<br>   &quot;devName&quot;:&quot;01, //01~24（遵循进站出站管理规定）<br>   &quot;status&quot;:0, //探测中，未探测。（0：探测中，1：未探测）<br>   &quot;doorRadarTestStatus&quot;:0, //有异物报警，无异物报警（0：无异物报警，1：有异物报警）<br>   &quot;failureStatus&quot;:0, //正常/故障（0：正常，1：故障）<br>&quot;radarMirrorWarnning&quot;:0   //有/无（0：雷达镜头无污损，1：雷达镜头有无损）</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table></li> <li><p>返回示例</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  ​<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      ​<span class="token property">&quot;eventTs&quot;</span><span class="token operator">:</span> <span class="token number">1563763411645</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;eventTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-07-22 02:43:31&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;stationId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;40430445&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;stationName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3-05&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;din&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200000000000000074&quot;</span><span class="token punctuation">,</span>
      ​<span class="token property">&quot;radarStatus&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ​<span class="token property">&quot;devId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;gateDirection&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;forceResetEvent&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;fjmMasterDev&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;doorRadarTestStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;pid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;fjmDispInfo&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;devName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;01&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;mcRunningStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;assetNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;runningTimes&quot;</span><span class="token operator">:</span> <span class="token number">15663</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;sn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;failureStatus&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;radarMirrorWarnning&quot;</span><span class="token operator">:</span> <span class="token number">0</span>​
      <span class="token punctuation">}</span>​
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></li></ul> <h2 id="_1-3-车站进出控制"><a href="#_1-3-车站进出控制" aria-hidden="true" class="header-anchor">#</a> 1.3.   车站进出控制</h2> <h3 id="_1-3-1车站进出控制系统子设备当前状态"><a href="#_1-3-1车站进出控制系统子设备当前状态" aria-hidden="true" class="header-anchor">#</a> 1.3.1车站进出控制系统子设备当前状态</h3> <ul><li><p>功能描述 返回指定车站，指定设备类型，指定设备，当前状态</p></li> <li><p>请求URL:<code>/space/datahub/metro/access-control/v1.0/current/getAccessControlStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路进出控制设备</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点进出控制设备</td></tr> <tr><td>deviceType</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部类型进出控制设备,<br>目前已具有设备类型：<br>&quot;security_gate &quot;:安检门;<br>&quot;x_ray&quot;:x光设备;&quot;<br> &quot;explosive_detection&quot;:炸探;<br>    &quot;liquid_detection&quot;:液探，<br>&quot;ticketbarrier&quot;:闸机<br>   &quot;ticketbarrier_side&quot;:边门，<br>&quot;rolling_shutter&quot;:卷闸门</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点指定类型全部设备</td></tr></tbody></table></li> <li><p>请求示例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /space/datahub/metro/access-control/v1.0/current/ getAccessControlStatus
  ?din=200000000000000074
  &amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>返回参数</p> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td></td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td></td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站点名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>deviceType</td> <td>设备类型</td> <td>String</td> <td>&quot;security_gate&quot;:安检门;<br>&quot;x_ray&quot;:x光设备;<br>&quot; explosive_detection&quot;:炸探;<br>    &quot;liquid_detection&quot;:液探，<br>&quot;ticketbarrier&quot;:闸机，<br>&quot;ticketbarrier_side&quot;:边门，<br>&quot;rolling_shutter&quot;:卷闸门</td></tr> <tr><td></td> <td>deviceStatus <br>(&quot;x_ray&quot;,<br>&quot;explosive_detection&quot;, <br>   &quot;liquid_detection&quot;)</td> <td>设备状态（x光设备，炸探, 液探）</td> <td>Object</td> <td>&quot;devId&quot;:&quot;&quot;,    //设备id<br>   &quot;assetNumber&quot;:&quot;&quot;//资产编号<br>   &quot;devStatus&quot;:&quot;0&quot;   //设备状态<br>（0正常，1故障，2,离线 故障是由设备上报；<br>离线是系统判断，设备每分钟上传一次状态，<br>如果超过5分钟没上传，系统判定为设备离线）<br>   &quot;exitName&quot;：&quot;A出口&quot;</td></tr> <tr><td></td> <td>deviceStatus<br>(security_gate)</td> <td>设备状态(安检门)</td> <td>Object</td> <td>&quot;devId&quot;:&quot;&quot;,    //设备id <br>  &quot;assetNumber&quot;:&quot;&quot;//资产编号 <br>  &quot;positionName&quot;:&quot;&quot;,  //所在位置（A，b出口）<br>   &quot;registerTime&quot;:&quot;&quot;,    //注册时间<br>（设备注册到安检系统的时间）<br>   &quot;devStatus&quot;:&quot;&quot;,        //设备状态<br>（0正常，1故障，2,离线 故障是由设备上报；<br>离线是系统判断，设备每分钟上传一次状态，<br>如果超过5分钟没上传，系统判定为设备离线） <br>  passPersonCnt&quot;:&quot;&quot;,  //通过总人数  <br> &quot;warningCnt&quot;:&quot;&quot;,     //报警总人数 <br>  &quot;modeCmdSend&quot;:&quot;&quot; //安检门模式命令<br>（0正常，1紧急，2火灾）</td></tr> <tr><td></td> <td>deviceStatus<br>(ticketbarrier,<br>ticketbarrier_side)</td> <td>设备状态(闸机，闸机)</td> <td>Object</td> <td>&quot;business_type&quot;: 10, 业务类型<br>   &quot;currentTOD&quot;: &quot;20190625180103&quot;, 闸机时间 <br>  &quot;operatorID&quot;: &quot;1232132&quot;, // 操作员ID<br>   &quot; statusID_$&quot;:    1.  {状态码}</td></tr> <tr><td></td> <td>deviceStatus<br>(rolling)shutter)</td> <td>设备状态(卷帘门)</td> <td>Object</td> <td>&quot;devId&quot;:&quot;&quot;,    //设备id <br>  &quot;positionName&quot;:&quot;&quot;,  //所在位置（A，b出口）<br>   &quot;registerTime&quot;:&quot;&quot;,    //注册时间<br>（设备注册到安检系统的时间）<br>   &quot;devStatus&quot;:0,//设备状态 <br>0正常，1故障，2,离线  <br> &quot;opDoorCmd &quot;: 0,   //操作卷闸门指令,<br>0:无指令,1:开卷闸门,2:关卷闸门,3:暂停卷闸门操作   &quot;doorOpenFinish&quot;:1 , //卷闸门开到位(卷闸门已经打开)  <br> &quot;doorCloseFinish&quot;:1, //卷闸门关到位(卷闸门已经关闭)</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table></li></ul> <p>注：每条数据里面只有一个deviceStatus字段，但是根据deviceType的不同，deviceStatus内数据项会不相同</p> <h2 id="_1-4-车站环境"><a href="#_1-4-车站环境" aria-hidden="true" class="header-anchor">#</a> 1.4.   车站环境</h2> <h3 id="_1-4-1车站环境当前状态"><a href="#_1-4-1车站环境当前状态" aria-hidden="true" class="header-anchor">#</a> 1.4.1车站环境当前状态</h3> <ul><li><p>功能描述 返回指定线路，指定车站，指定环境分类，指定上报设备 当前状态</p></li> <li><p>请求URL:<code>/space/datahub /metro/environment/v1.0/current/getEnvironmentStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路环境参数</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点环境参数</td></tr> <tr><td>dataType</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部类型环境参数,目前已具有设备类型：&quot;indoor&quot;:室内环境参数;&quot;outdoor&quot;:室外天气参数;&quot; indoor_pollution&quot;:室内污染物;&quot;outdoor_pollution&quot;：室外污染</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点指定类型全部设备</td></tr></tbody></table></li> <li><p>请求示例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /space/datahub/metro/environment/v1.0/current/getEnvironmentStatus
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>返回参数</p> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td>若由设备上报则放回上报din，若为系统上报则返回&quot;app_report&quot;</td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td></td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td></td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站点名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>dataType</td> <td>设备类型</td> <td>String</td> <td>&quot;indoor&quot;:室内环境参数; <br>  &quot;outdoor&quot;:室外天气参数; <br>   &quot;air_quality_sensor&quot;:室内空气质量;<br>    &quot;CO2_sensor&quot;: 二氧化碳传感器;<br>   &quot;CH4_sensor&quot;: 甲烷传感器;<br>   &quot;CO_H2S_sensor&quot;: 一氧化碳二氧化硫传感器; <br>  &quot;SO2_sensor&quot;: 二氧化硫传感器;<br>   &quot;C3H8_sensor&quot;: 丙烷传感器;<br>   &quot;H2_sensor&quot;: 氢气传感器;<br>    &quot;outdoor_pollution&quot;：室外污染</td></tr> <tr><td></td> <td>status(indoor)</td> <td>环境状态(室内环境)</td> <td>Object</td> <td>&quot;temperature&quot;:&quot;29&quot;   //温度；<br>   &quot;humidity &quot;:&quot;78&quot;     //湿度</td></tr> <tr><td></td> <td>status(outdoor)</td> <td>环境状态(室外环境)</td> <td>Object</td> <td>&quot;windpower&quot; : &quot;≤3&quot;, <br>  &quot;temperature&quot; : &quot;29&quot;, <br>  &quot;weather&quot; : &quot;阴&quot;, <br>  &quot;humidity&quot; : &quot;79&quot;, <br>  &quot;winddirection&quot; : &quot;东&quot;</td></tr> <tr><td></td> <td>status(air_quality_sensor)</td> <td>设备状态(室内空气质量)</td> <td>Object</td> <td>&quot;sensor_id&quot;:   &quot;1&quot;, //传感器ID <br>      &quot;sensor_name&quot;: &quot;pm2.5-pm10&quot;, //传感器名字 <br>      &quot;sensor_type&quot;:0, // 传感器类型，空气质量固定为0 <br>      &quot;pm25_concentration&quot;: 12.2, // pm2.5浓度<br>       &quot;pm10_concentration&quot;: 12.2, // pm10浓度 <br>       &quot;system_status&quot;: 0, // 主机状态，取值范围：0,1,2。<br>//0表示正常；<br>//1表示更换传感器模，2表示通信错误<br>       &quot;time_stamp&quot;: 1566200295683 //时间戳</td></tr> <tr><td></td> <td>status(CO2_sensor)</td> <td>设备状态(二氧化碳传感器)</td> <td>Object</td> <td>&quot;sensor_id&quot;:   &quot;1&quot;, //传感器ID <br>      &quot;sensor_name&quot;: &quot;二氧化碳传感器&quot;, //传感器名字<br>       &quot;sensor_type&quot;:8, // 传感器类型，二氧化碳固定为8 <br>      &quot;concentration&quot;: 12.2, //浓度<br>       &quot;time_stamp&quot;: 1566200295683 //时间戳</td></tr> <tr><td></td> <td>status(CH4_sensor;<br>CO_H2S_sensor;<br>SO2_sensor;<br>C3H8_sensor;<br>H2_sensor)</td> <td>设备状态(甲烷传感器;<br>一氧化碳二氧化硫传感器;<br>二氧化硫传感器;<br>丙烷传感器;<br>氢气传感器;)</td> <td>Object</td> <td>&quot;sensor_id&quot;:   &quot;1&quot;, <br>      &quot;sensor_name&quot;: &quot;气体传感器名&quot;, <br>      &quot;sensor_type&quot;: 1~6 , //1表示甲烷,2表示丙烷,3表示氢气,4表示一氧化碳,5表示硫化氢,6表示二氧化硫<br>       &quot;concentration&quot;: 12.2,<br>       &quot;system_status&quot;: 1, //取值范围：0和1。0表示正常；1故障 <br>      &quot;gas_warn_status&quot;: 0, //取值范围：0和1。0表示正常；1警示<br>       &quot;gas_alarm_status&quot;: 0, //取值范围：0和1。0表示正常；1告警<br>       &quot;gas_module_status&quot;: 0, //取值范围：0和1。0表示正常；1故障<br>       &quot;time_stamp&quot;: 1566200295683</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table></li></ul> <h2 id="_1-5-车站扶梯系统"><a href="#_1-5-车站扶梯系统" aria-hidden="true" class="header-anchor">#</a> 1.5.   车站扶梯系统</h2> <h3 id="_1-5-1车站扶梯当前状态及各子设备状态"><a href="#_1-5-1车站扶梯当前状态及各子设备状态" aria-hidden="true" class="header-anchor">#</a> 1.5.1车站扶梯当前状态及各子设备状态</h3> <ul><li><p><strong>功能描述</strong> 返回指定线路，指定车站，指定扶梯的当前状态及各子设备状态</p></li> <li><p>请求URL:<code>/space/datahub/metro/escalator/v1.0/current/getEscalatorStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路扶梯</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点扶梯</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点全部扶梯</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>space/datahub/metro/escalator/v1.0/current/getEscalator Status
?din=200000000000000074
&amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回参数</p></li></ul> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，<br>说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站台名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>deviceStatus</td> <td>设备状态</td> <td>Object</td> <td>&quot;DevName&quot;: &quot;8#&quot;,//设备名称<br>   &quot;Rate&quot;: -1.0, //运行速率<br>   &quot;PartCurrent_A&quot;: 9.344482,//电机电流<br>    &quot;Faults&quot;: 0,//故障次数<br>    &quot;RunningStatus&quot;: 1,<br> //运行状态，1表示上行，2表示下行，<br>3表示正常停止（自动模式），4表示正常停止（手动模式）, <br>5表示故障，6表示检修状态，<br>7 表示边缘处理器离线0表示无状态信息<br>    &quot;PartEnvirionTemp&quot;: -9999.0,//环境温度<br>    &quot;DevID&quot;:   &quot;3500-440105-200505-0013&quot;//设备Id</td></tr> <tr><td></td> <td>subdeviceStatus</td> <td>子设备状态</td> <td>Object</td> <td>&quot;partMotorStatus&quot;:2, //电机输出端诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartHigspeedGearStatus&quot;:2, //减速器输入端诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartLowspeedGearStatus&quot;:2, //减速器输出端诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartDrivingBearingStatus&quot;:2, //主驱动驱动端轴承诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartUndrivingBearingStatus&quot;:2, //主驱动从动端轴承诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartTensionerDriBearingStatus&quot;:2, //涨紧架驱动端轴承诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartTensionerUndrivBearingStatus&quot;:2, //涨紧架从动端轴承诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartDrivHandrailStatus&quot;:2, //左扶手带诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;PartUndrivHandrailStatus&quot;:2, //右扶手带诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;StepChainDrivingStatus&quot;:2, //梯级链主动端诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;StepChainUndrivingStatus&quot;:2, //梯级链从动端诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;DrivingChainStatus&quot;:2, //主驱动链诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;BrakingSysStatus&quot;:2 //主机刹车诊断结果<br>0：正常，1：欠佳，2：故障，3：传感器故障<br>   &quot;partMotorHeath&quot;:2, //电机输出端健康度<br>   &quot;PartHigspeedGearHeath&quot;:2, //减速器输入端健康度<br>   &quot;PartLowspeedGearHeath&quot;:2, //减速器输出端健康度<br>   &quot;PartDrivingBearingHeath&quot;:2, //主驱动驱动端轴承健康度<br>   &quot;PartUndrivingBearingHeath&quot;:2, //主驱动从动端轴承健康度<br>   &quot;PartTensionerDriBearingHeath&quot;:2, //涨紧架驱动端轴承健康度<br>   &quot;PartTensionerUndrivBearingHeath&quot;:2, //涨紧架从动端轴承健康度<br>   &quot;PartDrivHandrailHeath&quot;:2, //左扶手带健康度<br>   &quot;PartUndrivHandrailHeath&quot;:2, //右扶手带健康度<br>   &quot;StepChainDrivingHeath&quot;:2, //梯级链主动端健康度<br>   &quot;StepChainUndrivingHeath&quot;:2, //梯级链从动端健康度<br>   &quot;DrivingChainHeath&quot;:2, //主驱动链健康度<br>   &quot;BrakingSysHeath&quot;:2 //主机刹车健康度</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；<br>true 表示成功，<br>false 表示出错</td></tr></tbody></table> <h2 id="_1-6-车站照明系统"><a href="#_1-6-车站照明系统" aria-hidden="true" class="header-anchor">#</a> 1.6.   车站照明系统</h2> <h3 id="_1-6-1车站照明设备当前状态"><a href="#_1-6-1车站照明设备当前状态" aria-hidden="true" class="header-anchor">#</a> 1.6.1车站照明设备当前状态</h3> <ul><li><strong>功能描述</strong> 返回指定线路，指定车站，指定照明设备类型，指定照明设备的当前状态及各子设备状态</li> <li>请求URL:<code>/space/datahub/metro/illumination/v1.0/current/getIlluminationStatus</code></li> <li>请求方式:<code>GET</code></li> <li>请求参数</li></ul> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路照明设备</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点照明设备</td></tr> <tr><td>deviceType</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全被类型照明设备</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点全部照明设备</td></tr></tbody></table> <ul><li><p>请求示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/space/datahub/metro/illumination/v1.0/current/getIlluminationStatus
?din=200000000000000074
&amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回参数</p></li></ul> <table><thead><tr><th>名称</th> <th><div style="width:40px;">元素</div></th> <th><div style="width:70px;">描述</div></th> <th><div style="width:60px;">类型</div></th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站台名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>deviceType</td> <td>设备类型</td> <td>String</td> <td>&quot;smart_light&quot;:智能照明；&quot;light_control_panel&quot;:灯控面板</td></tr> <tr><td></td> <td>deviceStatus(smart_light)</td> <td>设备状态</td> <td>Object</td> <td>LightBrightness:&quot;89&quot;; //智能灯具亮度, 1~100</td></tr> <tr><td></td> <td>deviceStatus(light_control_panel)</td> <td>设备状态</td> <td></td> <td>LightScene：&quot;1&quot;   //场景1：高峰模式;   场景2：平峰模式;场景3：低峰模式;场景4：停运模式;场景5：典礼模式</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td></td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table> <h1 id="_2-基础能力"><a href="#_2-基础能力" aria-hidden="true" class="header-anchor">#</a> 2.       基础能力</h1> <h2 id="_2-1-告警接口"><a href="#_2-1-告警接口" aria-hidden="true" class="header-anchor">#</a> 2.1.   告警接口</h2> <h3 id="_2-1-1-获取告警列表"><a href="#_2-1-1-获取告警列表" aria-hidden="true" class="header-anchor">#</a> 2.1.1 获取告警列表</h3> <ul><li><p><strong>功能描述</strong> 返回指定类别，子类型，状态，等级，appid等的告警数据列表</p></li> <li><p>请求URL:<code>/space/datahub/alarm/v0.1/getAlarmList</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>type</td> <td>String</td> <td>否</td> <td>无</td> <td>告警类型</td></tr> <tr><td>subType</td> <td>String</td> <td>否</td> <td>无</td> <td>告警子类型</td></tr> <tr><td>status</td> <td>String</td> <td>否</td> <td>无</td> <td>状态 processed unprocessed processing</td></tr> <tr><td>level</td> <td>int</td> <td>否</td> <td>无</td> <td>告警级别 1-5</td></tr> <tr><td>beginTime</td> <td>String</td> <td>否</td> <td>无</td> <td>开始时间 yyyyMMddHHmmss</td></tr> <tr><td>endTime</td> <td>String</td> <td>否</td> <td>无</td> <td>结束时间 yyyyMMddHHmmss</td></tr> <tr><td>id</td> <td>String</td> <td>否</td> <td>无</td> <td>告警id</td></tr> <tr><td>appIds</td> <td>String</td> <td>否</td> <td>无</td> <td>上报的appid列表，英文,分隔</td></tr> <tr><td>imgFlag</td> <td>boolean</td> <td>否</td> <td>无</td> <td>是否返回告警的图片信息</td></tr> <tr><td>page</td> <td>int</td> <td>否</td> <td>无</td> <td>页码，默认1</td></tr> <tr><td>size</td> <td>int</td> <td>否</td> <td>无</td> <td>每页数量，默认10</td></tr></tbody></table></li> <li><p>请求示例</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /space/datahub/alarm/v0.1/getAlarmList
  ?type=
  &amp;status=processed
  &amp;token=
  &amp;subType=invade
  &amp;page=1
  &amp;size=10
  &amp;level=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>返回参数</p> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>data</td> <td></td> <td>数据列表</td> <td>List</td> <td>请求数据的列表</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table></li> <li><p>返回示例</p></li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ​<span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    ​<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      ​<span class="token punctuation">{</span>
        ​<span class="token property">&quot;handler&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;online&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;advice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1552640930201&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;position&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          ​<span class="token property">&quot;wId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b474ce98-04e2-4b5c-b9fd-abf3f7d8600d&quot;</span><span class="token punctuation">,</span>
          ​<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
          ​<span class="token property">&quot;sub_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          ​<span class="token property">&quot;din&quot;</span><span class="token operator">:</span> <span class="token string">&quot;144115192382209921&quot;</span>​
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;processor&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ​<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;processed&quot;</span>​
      <span class="token punctuation">}</span>​
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    ​<span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">5201</span><span class="token punctuation">,</span>
    ​<span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span>​
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ​<span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_2-2-2处理告警"><a href="#_2-2-2处理告警" aria-hidden="true" class="header-anchor">#</a> 2.2.2处理告警</h3> <ul><li><p><strong>功能描述</strong> 处理或消除之前发生过的告警</p></li> <li><p>请求URL:<code>/space/datahub/alarm/v0.1/changeStatus</code></p></li> <li><p>请求方式：<code>GET</code></p></li> <li><p>请求参数</p> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>uuid</td> <td>String</td> <td>是</td> <td>无</td> <td>告警的uuid，返回的列表中的id</td></tr> <tr><td>status</td> <td>String</td> <td>是</td> <td>无</td> <td>告警状态 processed unprocessed processing</td></tr> <tr><td>processor</td> <td>String</td> <td>是</td> <td>无</td> <td>告警处理人，可以为JSON字符串</td></tr> <tr><td>processTime</td> <td>Long</td> <td>是</td> <td>无</td> <td>告警处理时间</td></tr> <tr><td>advice</td> <td>String</td> <td>否</td> <td>无</td> <td>告警处理建议</td></tr> <tr><td>processDescription</td> <td>String</td> <td>否</td> <td>无</td> <td>告警处理的描述信息</td></tr> <tr><td>processExtend</td> <td>String</td> <td>否</td> <td>无</td> <td>告警处理的扩展信息，可以为JSON字符串</td></tr></tbody></table></li> <li><p>请求示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/space/datahub/alarm/v0.1/changeStatus
?uuid=ddkkbb
&amp;status=processed
&amp;processor={&quot;name&quot;:&quot;haiboliu&quot;}
&amp;token=
&amp;processDescription=
&amp;processExtend={}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>返回参数</p></li></ul> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table> <ul><li>返回示例</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
​  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
​  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_2-2-设备状态"><a href="#_2-2-设备状态" aria-hidden="true" class="header-anchor">#</a> 2.2.   设备状态</h2> <h3 id="_2-2-1全量设备设备当前状态接口"><a href="#_2-2-1全量设备设备当前状态接口" aria-hidden="true" class="header-anchor">#</a> 2.2.1全量设备设备当前状态接口</h3> <ul><li><strong>功能描述</strong> 返回指定车站，指定设备类型，指定设备，当前状态</li> <li>请求URL:<code>/space/datahub/metro/common/v1.0/current/getDeviceStatus</code></li> <li>请求方式：<code>GET</code></li> <li>请求参数</li></ul> <table><thead><tr><th>参数名</th> <th>类型</th> <th>必填</th> <th>数据约束</th> <th>描述</th></tr></thead> <tbody><tr><td>token</td> <td>String</td> <td>是</td> <td>非空且长度固定128个字符</td> <td>动态密钥，有效期20分钟，需重新登录</td></tr> <tr><td>lineId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部线路设备</td></tr> <tr><td>stationId</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部站点设备</td></tr> <tr><td>poiCode</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回全部poiCode设备</td></tr> <tr><td>din</td> <td>String</td> <td>否</td> <td>无</td> <td>若为空，则返回指定站点指定类型全部设备</td></tr></tbody></table> <ul><li><p>请求示例</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/space/datahub/metro/common/v1.0/current/ getDeviceStatus
?din=200000000000000074
&amp;token= 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>返回参数</p></li></ul> <table><thead><tr><th>名称</th> <th>元素</th> <th>描述</th> <th>类型</th> <th>备注</th></tr></thead> <tbody><tr><td>code</td> <td>/</td> <td>处理状态码</td> <td>Integer</td> <td>0：正常   其它：异常，</td></tr> <tr><td>message</td> <td>/</td> <td>错误信息</td> <td>String</td> <td>Code非0的时候，说明错误信息</td></tr> <tr><td>data</td> <td>/</td> <td>数据列表</td> <td>List</td> <td></td></tr> <tr><td></td> <td>din</td> <td>设备唯一编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>lineId</td> <td>线路编号</td> <td></td> <td></td></tr> <tr><td></td> <td>lineName</td> <td>线路名称</td> <td></td> <td></td></tr> <tr><td></td> <td>stationId</td> <td>站点编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>stationName</td> <td>站点名称</td> <td>String</td> <td></td></tr> <tr><td></td> <td>eventTs</td> <td>事件发生时间戳</td> <td>Number</td> <td>毫秒级时间戳</td></tr> <tr><td></td> <td>eventTime</td> <td>事件发生时间</td> <td>datetime</td> <td></td></tr> <tr><td></td> <td>wId</td> <td>微瓴id</td> <td>String</td> <td></td></tr> <tr><td></td> <td>poiCode</td> <td>设备类型编号</td> <td>String</td> <td></td></tr> <tr><td></td> <td>productId</td> <td>厂商pid</td> <td>String</td> <td></td></tr> <tr><td></td> <td>sn</td> <td>设备sn</td> <td>String</td> <td></td></tr> <tr><td></td> <td>deviceStatus</td> <td>设备当前状态</td> <td>int</td> <td>0：正常；1：故障；2；离线</td></tr> <tr><td></td> <td>deviceType</td> <td>设备类型</td> <td>String</td> <td>对应于poiCode</td></tr> <tr><td></td> <td>content</td> <td>设备参数值（）</td> <td>Object</td> <td></td></tr> <tr><td>success</td> <td></td> <td>消息</td> <td>Boolean</td> <td>返回信息；true 表示成功，false 表示出错</td></tr></tbody></table> <p>注：每条数据里面只有一个content字段，但是根据poiCode的不同，content内数据项会不相同</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/data_space/Basic_document.html" class="prev">数字空间基础能力接口文档</a></span> <span class="next"><a href="/data_space/Data_guide.html">数字空间数据上报及实时数据获取指南-建筑类</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db21f27a.js" defer></script><script src="/assets/js/2.82b08f5a.js" defer></script><script src="/assets/js/14.a358029f.js" defer></script>
  </body>
</html>
