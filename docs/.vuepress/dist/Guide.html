<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>接入指南 | OPEN API Doc</title>
    <meta name="description" content="接口说明文档">
    <link rel="icon" href="/bitbug_favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.584498ef.css" as="style"><link rel="preload" href="/assets/js/app.db21f27a.js" as="script"><link rel="preload" href="/assets/js/2.82b08f5a.js" as="script"><link rel="preload" href="/assets/js/3.69a9e6aa.js" as="script"><link rel="prefetch" href="/assets/js/10.22aa21c7.js"><link rel="prefetch" href="/assets/js/11.2b479cd9.js"><link rel="prefetch" href="/assets/js/12.d0a30bd4.js"><link rel="prefetch" href="/assets/js/13.e1c32ab9.js"><link rel="prefetch" href="/assets/js/14.a358029f.js"><link rel="prefetch" href="/assets/js/15.b95dcb64.js"><link rel="prefetch" href="/assets/js/4.2a9a9e3e.js"><link rel="prefetch" href="/assets/js/5.ddaaa47b.js"><link rel="prefetch" href="/assets/js/6.898b7d41.js"><link rel="prefetch" href="/assets/js/7.04069a34.js"><link rel="prefetch" href="/assets/js/8.13be9294.js"><link rel="prefetch" href="/assets/js/9.4b85b1ac.js">
    <link rel="stylesheet" href="/assets/css/0.styles.584498ef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">OPEN API Doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/Guide.html" class="active sidebar-link">接入指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Guide.html#_1-产品接入指南" class="sidebar-link">1. 产品接入指南</a></li><li class="sidebar-sub-header"><a href="/Guide.html#_2-应用接入指南" class="sidebar-link">2. 应用接入指南</a></li></ul></li><li><a href="/IOT.html" class="sidebar-link">IOT通讯协议</a></li><li><a href="/Application_of_API.html" class="sidebar-link">应用API</a></li><li><a href="/Video_service.html" class="sidebar-link">视频服务</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数字空间</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/Error_code.html" class="sidebar-link">错误码</a></li><li><a href="/appendix.html" class="sidebar-link">附录</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="接入指南"><a href="#接入指南" aria-hidden="true" class="header-anchor">#</a> 接入指南</h1> <p><strong>接入流程：</strong></p> <p><img src="/assets/img/Qualification_application.8c034406.png" alt="Alt text"></p> <h2 id="_1-产品接入指南"><a href="#_1-产品接入指南" aria-hidden="true" class="header-anchor">#</a> 1. 产品接入指南</h2> <p><strong>术语描述：</strong></p> <p><strong>PID:</strong> Product ID，产品 ID。接入微瓴开放平台的每一款智能设备都有一个独立的 PID。</p> <p><strong>SN:</strong> Serial Number，每台设备都应该有一个唯一的序列号，序列号并不需要微瓴开放平台分配，所以您可以直接对接原有产品线的序 列号系统，但是我们对序列号格式有严格要求:长度必须是 4~64 个字符的字母、数字、下划线或者中划线的组合，例如 Q1GDU17C28006879 就是一个非常标准的序列号。</p> <p><strong>License:</strong> License 是对 SN 的数字签名，所以与 SN 是一一对应的，它存在的主要目的是保护合作方的利益，避免冒充合作方品牌的山 寨设备出现，License 的产生可以借助客户端工具实现。微瓴开放平台通过 PID+SN 唯一确定一台设备，并通过 License 来确认 SN 不 是随机伪造的，只有通过验证的 PID+SN+License，微瓴开放平台才会下发 DIN，拥有 DIN 的智能设备便可以直接接入微瓴开放平台。</p> <p><strong>DIN:</strong> 每台设备在平台上都会被分配一个唯一的DIN，是设备唯一的身份标识，通过这个DIN可以确定到单个设备。</p> <p><strong>1.</strong> 登录微瓴开放平台（https://open.welink.qq.com），点击开发中心：</p> <p><img src="/assets/img/20190926191714.b26598bb.png" alt="Alt text"></p> <p><strong>2.</strong> 点击产品管理→新增产品：</p> <p><img src="/assets/img/201909261917141.0832686e.png" alt="Alt text"></p> <p><strong>3.</strong> 填写产品信息：</p> <p><img src="/assets/img/201909261917142.102fb12a.png" alt="Alt text"></p> <p><strong>4.</strong> 提交之后可以在产品管理页看到刚申请的产品→点击调试：</p> <p><img src="/assets/img/2982844554c402a36a43d5419a70238.35441846.png" alt="Alt text"></p> <p><strong>5.</strong> 点击调试里面可以看到产品详细信息，PID已经生成，SN（设备准确的序列号）还需要手动输入，点击注册即可，到这里PID和SN申请完成。服务器公钥和设备私钥（签名私钥）请复制下来保管好，供后续接入流程加密解密使用。另外，子设备注册流程请查阅IOT通讯协议3.3网关上报子设备注册消息。</p> <p><img src="/assets/img/0701eb54b76003c4c930d9728014fce.618ef0d2.png" alt="Alt text"></p> <p><strong>6.</strong> 从开放平台获取到pid和sn之后，参照IOT通讯协议注册设备，接入微瓴。</p> <h2 id="_2-应用接入指南"><a href="#_2-应用接入指南" aria-hidden="true" class="header-anchor">#</a> 2. 应用接入指南</h2> <p><strong>术语描述：</strong></p> <p><strong>APP ID:</strong> 应用唯一标识符。每创建一个新应用，后台会为其配置一个新的应用ID，且后续不可更改。创建过的应用即使在删除后，其应用ID仍然不能被新创建的应用所占有。</p> <p><strong>APP Ticket:</strong> 应用票据，在进行鉴权时会使用到，用于登录微瓴openAPI。票据均有有效期，在票据到期前需要替换。</p> <p><strong>1.</strong> 登录微瓴开放平台（https://open.welink.qq.com），点击开发中心：</p> <p><img src="/assets/img/20190926191714.b26598bb.png" alt="Alt text"></p> <p><strong>2.</strong> 点击应用管理→新增应用：</p> <p><img src="/assets/img/cdb12351fa857248405c38e0682d3b3.fcc3aad4.png" alt="Alt text"></p> <p><strong>3.</strong> 填写应用信息提交：</p> <p>应用名称: 仅支持中文、英文大小写、数字和常用符号，必须以中文、英文或数字开头。建议您在申请的时候以中文命名，最多输入 20 字符 , 且不可修改。</p> <p>应用类型: web 应用、移动应用、PC 客户端。</p> <p>应用领域: 包含智能建筑、智能家居、智慧社区、智慧园区、智慧城市、智慧零售及其他。</p> <p>应用简介: 请详细描述该应用的主要功能和使用场景，以便我方工作人员进行检查和审核。最多输入 100 字符。</p> <p><img src="/assets/img/app2.e30d3ca2.png" alt="Alt text"></p> <p><strong>4.</strong> 回到应用管理→点击调试→填入回调地址点击保存→关联设备→提交</p> <p><img src="/assets/img/app3.32f1bdb0.png" alt="Alt text"></p> <p>当应用申请提交后，微瓴开放平台会为您分配一个沙箱环境中的App ID 和App Ticket（如下图），需要注意的是，生产环境和沙箱环境会使用到不同的App ID和App Ticket，请注意区分。</p> <p>其中App Ticket是有有效期限的，在沙箱阶段，默认有效期限是一年（一年按365天计算）。在距离到期时间前15天内，您可以根据自身需要对App Ticket进行重置，重置后会生成新的App Ticket，有效期限重新按照一年计算。</p> <p><img src="/assets/img/app6.b9ea65da.png" alt="Alt text"></p> <p>您需要填写消息回调地址，用于接收平台推送的消息和设备上报的数据。</p> <p>温馨提示:消息回调地址必须以 https:// 开头，默认的端口号为 443，URL 长度不超过 100 个字符。</p> <p><img src="/assets/img/app4.d550af86.png" alt="Alt text"></p> <p>在应用调试过程中需要将应用与您的设备关联起来，若此时还未添加设备，您需要先添加设备。添加设备的时候需要您提交的信息包括：设备类型、设备名称、PID、SN、DIN。</p> <p><img src="/assets/img/app5.56231f9f.png" alt="Alt text"></p> <p>→参照应用接口文档进行调试</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/IOT.html">IOT通讯协议</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db21f27a.js" defer></script><script src="/assets/js/2.82b08f5a.js" defer></script><script src="/assets/js/3.69a9e6aa.js" defer></script>
  </body>
</html>
